<html lang="en">
<head>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="viewport" content="width=device-width maximum-scale=1 initial-scale=1 user-scalable=no">
  <title>Math expression parser</title>
  <style>
    body {
      background-color: #ddd;
      font-family: 'Helvetica Neue', HelveticaNeue, sans-serif;
    }
    input {
      width: 100%;
      font-family: monospace;
      font-size: 1.3em;
      border: 1px solid #bbb;
      border-radius: 3px;
      padding: 0.2em 0.3em 0.2em 0.4em;
      background-color: white;
    }
    table {
      background-color: #e6e6e6;
      width: 70%;
      margin-left: 20px;
      border-collapse: collapse;
    }
    table td, table th {
      padding: 0;
    }
    table td, table th {
      border: 1px solid #ccc;
      padding: 4px 10px;
    }
    pre {
      background-color: #e6e6e6;
      padding:4px 10px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>

<p><label for="code">Type a math expression:</label></p>
<input type="text" id="code" autocapitalize="off" spellcheck="false"
       value="sin(pi/4) * sqrt(2) + (2 * 2)"
       onChange='window.updateDisplay()'
       onKeyUp='window.updateDisplay()'
       onclick="window.updateDisplay()"
/>

<p>Cursor position:</p>
<pre id="cursor">&nbsp</pre>

<p>Expression result (generated by evaluator):</p>
<pre id="result">&nbsp;</pre>

<div style="width:auto;float:left">
  <p>Tokens (generated by lexer):</p>
  <div id="tokens"></div>
</div>

<div style="width:auto;float:left;margin-left:20px">
  <p>Syntax tree (generated by parser):</p>
  <pre id="syntax"></pre>
</div>

<script type="module">
  import {updateLexerTable, updateParserTree, updateEvalResult, updateCursorPosition} from "../../dist/demo/demo.js";

  window.updateDisplay = function () {
    updateCursorPosition()
    updateEvalResult()
    updateLexerTable()
    updateParserTree()
  }
  window.updateDisplay()
</script>

</body>
</html>
